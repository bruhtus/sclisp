#!/bin/sh
# only tested in arch linux.
compiler='gcc -std=gnu11 -pedantic -l readline -l m -o sclisp mpc.c sclisp.c'

case "$1" in
  main)
    $compiler
    ;;
  main-debug)
    $compiler -ggdb
    ;;
  playground)
    gcc -l readline -o playground playground.c
    ;;
  playground-debug)
    gcc -save-temps -l readline -o playground playground.c
    ;;
  playground-objdump)
    gcc -l readline -ggdb -c playground.c
    objdump --source --full-contents --reloc playground.o
    ;;
  playground-readelf-segments)
    gcc -l readline -ggdb -o playground playground.c
    readelf --segments playground
    ;;
  *)
    echo "Usage: $0 main | playground"
    ;;
esac
