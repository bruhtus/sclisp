#!/bin/sh
case "$1" in
  main)
    # only tested in arch linux.
    gcc -l readline -l m -o sclisp mpc.c sclisp.c
    ;;
  main-debug)
    # only tested in arch linux.
    gcc -l readline -ggdb -o sclisp mpc.c sclisp.c
    ;;
  playground)
    gcc -l readline -o playground playground.c
    ;;
  playground-debug)
    gcc -save-temps -l readline -o playground playground.c
    ;;
  playground-objdump)
    gcc -l readline -ggdb -c playground.c
    objdump --source --full-contents --reloc playground.o
    ;;
  playground-readelf-segments)
    gcc -l readline -ggdb -o playground playground.c
    readelf --segments playground
    ;;
  *)
    echo "Usage: $0 main | playground"
    ;;
esac
